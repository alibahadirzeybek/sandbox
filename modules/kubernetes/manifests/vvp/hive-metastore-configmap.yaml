---
apiVersion: v1
kind: ConfigMap
metadata:
  name: hive-metastore
  namespace: vvp
data:
  hive-site.xml: |
    <?xml version="1.0"?>
    <?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
    <configuration>
        <property>
            <name>hive.metastore.uris</name>
            <value>thrift://${cluster_ip}:9083</value>
        </property>
        <property>
            <name>fs.s3a.aws.credentials.provider</name>
            <value>org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider</value>
        </property>
        <property>
            <name>fs.s3a.impl</name>
            <value>org.apache.hadoop.fs.s3a.S3AFileSystem</value>
        </property>
        <property>
            <name>fs.s3a.access.key</name>
            <value>${access_key}</value>
        </property>
        <property>
            <name>fs.s3a.secret.key</name>
            <value>${secret_key}</value>
        </property>
    </configuration>